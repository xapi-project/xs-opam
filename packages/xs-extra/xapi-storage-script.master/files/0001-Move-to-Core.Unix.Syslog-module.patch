From ce39a2cacd71ce12e9e6075c458b076903bd65c1 Mon Sep 17 00:00:00 2001
From: Gabor Igloi <gabor.igloi@citrix.com>
Date: Mon, 23 Oct 2017 10:54:23 +0100
Subject: [PATCH] Move to Core.Unix.Syslog module

The Core.Syslog module has been removed.

Signed-off-by: Gabor Igloi <gabor.igloi@citrix.com>
---
 main.ml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/main.ml b/main.ml
index fd92607..1732e7c 100644
--- a/main.ml
+++ b/main.ml
@@ -26,7 +26,7 @@ let log level fmt =
   Printf.ksprintf (fun s ->
     if !use_syslog then begin
       (* FIXME: this is synchronous and will block other I/O *)
-      Core.Syslog.syslog ~level ~facility:Core.Syslog.Facility.DAEMON s;
+      Core.Unix.Syslog.syslog ~level ~facility:Core.Unix.Syslog.Facility.DAEMON s;
     end else begin
       let w = Lazy.force Writer.stderr in
       Writer.write w s;
@@ -34,10 +34,10 @@ let log level fmt =
     end
   ) fmt
 
-let debug fmt = log Core.Syslog.Level.DEBUG   fmt
-let info  fmt = log Core.Syslog.Level.INFO    fmt
-let warn  fmt = log Core.Syslog.Level.WARNING fmt
-let error fmt = log Core.Syslog.Level.ERR     fmt
+let debug fmt = log Core.Unix.Syslog.Level.DEBUG   fmt
+let info  fmt = log Core.Unix.Syslog.Level.INFO    fmt
+let warn  fmt = log Core.Unix.Syslog.Level.WARNING fmt
+let error fmt = log Core.Unix.Syslog.Level.ERR     fmt
 
 module RRD = struct
   open Protocol_async
-- 
2.7.4

